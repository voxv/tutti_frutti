import{T as n}from"./index-CcSHno1z.js";class o extends n{static placeOnScene(t,e,r){let a=120;t&&t.towerConfig&&t.towerConfig.dart_monkey&&t.towerConfig.dart_monkey.range&&(a=t.towerConfig.dart_monkey.range);const s=new o({position:{x:e,y:r},range:a}),i=t.add.sprite(e,r,"dart_monkey_placed",0).setDisplaySize(100*.7,100*.7).setDepth(8500).setAlpha(1).setInteractive({useHandCursor:!0});return i.towerType="dart_monkey",i.towerX=e,i.towerY=r,i.towerRange=a,s._placedSprite=i,s}constructor(t){super({...t,range:t.range||120,fireRate:t.fireRate||1,damage:t.damage||1,cost:t.cost||200,type:"dart_monkey"}),this.projectiles=[]}acquireTarget(t){for(const e of t)if(this.isInRange(e))return this.target=e,e;return this.target=null,null}fire(t,e){(!this.target||!this.isInRange(this.target))&&this.acquireTarget(t),this.target&&e-this.lastShotTime>=1/this.fireRate&&(this.lastShotTime=e,this.projectiles.push({position:{...this.position},target:this.target,damage:this.damage}))}upgrade(){this.level++,this.range+=20,this.damage+=1,this.fireRate+=.2,this.cost+=100,this.upgrades.push({level:this.level})}update(t,e){const r=Date.now()/1e3;this.fire(e,r)}}export{o as DartMonkeyTower};
