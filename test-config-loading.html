<!DOCTYPE html>
<html>
<head>
    <title>Config Loading Test</title>
</head>
<body>
    <h1>Config Loading Test</h1>
    <pre id="output"></pre>
    
    <script>
        const output = document.getElementById('output');
        
        function log(msg) {
            output.textContent += msg + '\n';
            console.log(msg);
        }
        
        async function testConfigLoading() {
            try {
                log('Testing config file fetching...\n');
                
                const paths = {
                    waves: './waves.json',
                    tower: './src/game/towers/tower.json',
                    bloons: './src/game/enemies/bloons.json',
                    projectiles: './src/game/projectiles.json'
                };
                
                for (const [name, path] of Object.entries(paths)) {
                    log(`\nFetching ${name}: ${path}`);
                    const response = await fetch(path);
                    log(`  Status: ${response.status} ${response.statusText}`);
                    
                    if (response.ok) {
                        const data = await response.json();
                        const dataStr = JSON.stringify(data);
                        log(`  Length: ${dataStr.length} bytes`);
                        if (name === 'waves') {
                            log(`  Waves count: ${data.waves?.length || 'NO WAVES'}`);
                        } else if (name === 'tower') {
                            log(`  Tower keys: ${Object.keys(data).slice(0, 3).join(', ')}...`);
                        }
                    } else {
                        const text = await response.text();
                        log(`  ERROR: ${text.substring(0, 100)}`);
                    }
                }
                
                log('\n\nSUCCESS: All configs can be fetched!');
            } catch (error) {
                log('\n\nERROR: ' + error.message);
            }
        }
        
        testConfigLoading();
    </script>
</body>
</html>
